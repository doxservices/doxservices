<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Projects</title>
  <meta name="description" content="Dox portfolio — client sites and demos with preview overlay and keyboard navigation." />
  <style>
    :root{
      --p900:#0a3b6e; --p700:#12558f; --p500:#1f7bb7;
      --n100:#f7f9fc; --n200:#eef2f6; --n300:#dce3eb; --n500:#6b7280; --n800:#2f3a4c;
      --white:#fff; --shadow:rgba(16,24,40,.08); --radius:12px
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Inter,Arial,sans-serif;
      color:var(--n800);background:var(--n100);-webkit-font-smoothing:antialiased
    }
    main{max-width:1280px;margin:24px auto 80px;padding:0 16px}
    .filters{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin:0 0 24px}
    .chip{padding:8px 18px;border-radius:999px;border:1px solid var(--p500);background:var(--white);color:var(--p700);font-weight:500;cursor:pointer}
    .chip[aria-pressed="true"]{background:var(--p500);color:var(--white)}
    .chip:focus-visible{outline:3px solid var(--p500);outline-offset:2px}
    .grid{display:grid;gap:32px;grid-template-columns:repeat(auto-fill,minmax(320px,1fr))}
    .card{background:var(--white);border-radius:var(--radius);box-shadow:0 6px 18px var(--shadow);border:1px solid var(--n300);overflow:hidden;display:flex;flex-direction:column}
    .preview-wrapper{position:relative;padding-top:56.25%;background:var(--n200)}
    .preview-wrapper img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
    .badge{position:absolute;top:12px;left:12px;padding:4px 10px;font-size:12px;font-weight:700;border-radius:999px;background:var(--p500);color:#fff;text-transform:uppercase}
    .title-overlay{position:absolute;left:0;right:0;bottom:0;padding:14px 16px;background:linear-gradient(0deg,rgba(0,0,0,.55),rgba(0,0,0,0));color:#fff;font-weight:700;font-size:18px}
    .card-body{padding:20px 20px 24px;display:flex;flex-direction:column;gap:14px}
    .card-body p{margin:0;color:var(--n500)}
    .actions{display:flex;gap:10px;flex-wrap:wrap}
    .btn{display:inline-block;padding:10px 16px;border-radius:6px;font-weight:600;text-decoration:none;text-align:center}
    .btn.primary{background:var(--p700);color:#fff}
    .btn.primary:hover{background:var(--p500)}
    .btn.secondary{background:#fff;color:var(--p700);border:1px solid var(--p500)}
    .btn.secondary:hover{background:var(--n200)}
    footer{text-align:center;margin-top:40px;color:var(--n500);font-size:14px}

    /* Overlay Preview */
    .overlay{position:fixed;inset:0;background:rgba(9,14,20,.72);backdrop-filter:saturate(1.2) blur(6px);display:none;z-index:9999}
    .ov-panel{position:absolute;inset:48px 24px;background:#0b1622;border:1px solid #1e2a39;border-radius:14px;display:flex;flex-direction:column;box-shadow:0 20px 60px rgba(0,0,0,.35)}
    .ov-header{display:flex;align-items:center;gap:10px;justify-content:space-between;padding:10px 14px;border-bottom:1px solid #1e2a39;background:#0d1b2a;color:#d6e2f0}
    .ov-title{display:flex;align-items:center;gap:12px;font-weight:700}
    .ov-ctr{display:flex;gap:8px}
    .ov-btn{border:1px solid #2a3a4f;background:#122337;color:#d6e2f0;border-radius:8px;padding:8px 12px;cursor:pointer;font-weight:600}
    .ov-btn:hover{background:#17304a}
    .ov-body{position:relative;flex:1;min-height:0}
    .ov-iframe{position:absolute;inset:0;width:100%;height:100%;border:0;background:#0b1622}
    .ov-fallback{position:absolute;inset:auto 16px 16px 16px;background:rgba(0,0,0,.55);color:#fff;padding:8px 12px;border-radius:8px;font-size:14px;display:none}
    .hidden{display:none}
    @media (prefers-reduced-motion:reduce){.card{transition:none}}
  </style>
</head>
<body>
  <main>
    <!-- Filters -->
    <div class="filters" role="toolbar" aria-label="Filter projects">
      <button class="chip" data-filter="all" aria-pressed="true">All</button>
      <button class="chip" data-filter="client">Clients</button>
      <button class="chip" data-filter="demo">Demos</button>
      <button class="chip" data-filter="business">Business</button>
      <button class="chip" data-filter="ecom">E-commerce</button>
      <button class="chip" data-filter="special">Special</button>
    </div>

    <!-- Projects (client sites first; doxservices.com first) -->
    <section class="grid" id="projects">
      <!-- CLIENTS -->
      <article class="card" data-tags="client business" data-url="https://www.doxservices.com/" data-shot="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/?w=1200" data-title="Doxservices.com">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/?w=800" alt="Preview of Doxservices.com">
          <span class="badge">Client</span>
          <div class="title-overlay">Doxservices.com</div>
        </div>
        <div class="card-body">
          <p>Corporate site hub. Clean information architecture and brand system.</p>
          <div class="actions">
            <a class="btn primary" href="https://www.doxservices.com/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <article class="card" data-tags="client business" data-url="https://www.softbloc.net/" data-shot="https://s.wordpress.com/mshots/v1/https://www.softbloc.net/?w=1200" data-title="Softbloc">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://www.softbloc.net/?w=800" alt="Preview of Softbloc client website">
          <span class="badge">Client</span>
          <div class="title-overlay">Softbloc</div>
        </div>
        <div class="card-body">
          <p>Technology solutions site with streamlined services and contact flows.</p>
          <div class="actions">
            <a class="btn primary" href="https://www.softbloc.net/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <article class="card" data-tags="client ecom" data-url="https://puremaineorganics.com/" data-shot="https://s.wordpress.com/mshots/v1/https://puremaineorganics.com/?w=1200" data-title="Pure Maine Organics">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://puremaineorganics.com/?w=800" alt="Preview of Pure Maine Organics">
          <span class="badge">Client</span>
          <div class="title-overlay">Pure Maine Organics</div>
        </div>
        <div class="card-body">
          <p>Organic e-commerce with clean PDP and checkout experience.</p>
          <div class="actions">
            <a class="btn primary" href="https://puremaineorganics.com/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <article class="card" data-tags="client ecom" data-url="https://woo-look-eye-wear.vercel.app/" data-shot="https://s.wordpress.com/mshots/v1/https://woo-look-eye-wear.vercel.app/?w=1200" data-title="Woo Look Eyewear">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://woo-look-eye-wear.vercel.app/?w=800" alt="Preview of Woo Look Eyewear">
          <span class="badge">Client</span>
          <div class="title-overlay">Woo Look Eyewear</div>
        </div>
        <div class="card-body">
          <p>Eyewear storefront prototype showcasing products with smooth browse flows.</p>
          <div class="actions">
            <a class="btn primary" href="https://woo-look-eye-wear.vercel.app/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <article class="card" data-tags="client business" data-url="https://www.appymeal.com/about" data-shot="https://s.wordpress.com/mshots/v1/https://www.appymeal.com/about?w=1200" data-title="Appymeal">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://www.appymeal.com/about?w=800" alt="Preview of Appymeal">
          <span class="badge">Client</span>
          <div class="title-overlay">Appymeal</div>
        </div>
        <div class="card-body">
          <p>Food-ordering platform about/partner page.</p>
          <div class="actions">
            <a class="btn primary" href="https://www.appymeal.com/about" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <article class="card" data-tags="client business" data-url="https://brx.exchange/" data-shot="https://s.wordpress.com/mshots/v1/https://brx.exchange/?w=1200" data-title="BRX Exchange">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://brx.exchange/?w=800" alt="Preview of BRX Exchange">
          <span class="badge">Client</span>
          <div class="title-overlay">BRX Exchange</div>
        </div>
        <div class="card-body">
          <p>Finance/exchange homepage with market-ready look.</p>
          <div class="actions">
            <a class="btn primary" href="https://brx.exchange/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <!-- DEMOS (plus new BookJa demo) -->
      <article class="card" data-tags="demo business" data-url="https://bookja.development.doxservices.com/" data-shot="https://s.wordpress.com/mshots/v1/https://bookja.development.doxservices.com/?w=1200" data-title="BookJa (Demo)">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://bookja.development.doxservices.com/?w=800" alt="Preview of BookJa demo">
          <span class="badge">Demo</span>
          <div class="title-overlay">BookJa (Demo)</div>
        </div>
        <div class="card-body">
          <p>Booking demo experience under development.</p>
          <div class="actions">
            <a class="btn primary" href="https://bookja.development.doxservices.com/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <article class="card" data-tags="demo business" data-url="https://www.doxservices.com/demo/bakenwake/" data-shot="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/bakenwake/?w=1200" data-title="Bakenwake">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/bakenwake/?w=800" alt="Preview of Bakenwake">
          <span class="badge">Demo</span>
          <div class="title-overlay">Bakenwake</div>
        </div>
        <div class="card-body">
          <p>Specialised service landing page with clean IA and strong CTA hierarchy.</p>
          <div class="actions">
            <a class="btn primary" href="https://www.doxservices.com/demo/bakenwake/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <article class="card" data-tags="demo business" data-url="https://www.doxservices.com/demo/carhub/" data-shot="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/carhub/?w=1200" data-title="Carhub">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/carhub/?w=800" alt="Preview of Carhub">
          <span class="badge">Demo</span>
          <div class="title-overlay">Carhub</div>
        </div>
        <div class="card-body">
          <p>Automotive hub template with inventory sections and a striking hero.</p>
          <div class="actions">
            <a class="btn primary" href="https://www.doxservices.com/demo/carhub/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <article class="card" data-tags="demo business" data-url="https://www.doxservices.com/demo/nestora/" data-shot="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/nestora/?w=1200" data-title="Nestora">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/nestora/?w=800" alt="Preview of Nestora">
          <span class="badge">Demo</span>
          <div class="title-overlay">Nestora</div>
        </div>
        <div class="card-body">
          <p>Real-estate concept with sectioned feature blocks and clear CTAs.</p>
          <div class="actions">
            <a class="btn primary" href="https://www.doxservices.com/demo/nestora/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <article class="card" data-tags="demo special" data-url="https://www.doxservices.com/demo/petpal/" data-shot="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/petpal/?w=1200" data-title="Petpal">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/petpal/?w=800" alt="Preview of Petpal">
          <span class="badge">Demo</span>
          <div class="title-overlay">Petpal</div>
        </div>
        <div class="card-body">
          <p>Pet services template with a friendly palette and booking patterns.</p>
          <div class="actions">
            <a class="btn primary" href="https://www.doxservices.com/demo/petpal/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <article class="card" data-tags="demo special" data-url="https://www.doxservices.com/demo/pxgen/" data-shot="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/pxgen/?w=1200" data-title="Pxgen">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/pxgen/?w=800" alt="Preview of Pxgen">
          <span class="badge">Demo</span>
          <div class="title-overlay">Pxgen</div>
        </div>
        <div class="card-body">
          <p>Gen-AI/image tool landing with a modern hero and feature grid.</p>
          <div class="actions">
            <a class="btn primary" href="https://www.doxservices.com/demo/pxgen/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>

      <article class="card" data-tags="demo business" data-url="https://www.doxservices.com/demo/vision/" data-shot="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/vision/?w=1200" data-title="Vision">
        <div class="preview-wrapper">
          <img src="https://s.wordpress.com/mshots/v1/https://www.doxservices.com/demo/vision/?w=800" alt="Preview of Vision">
          <span class="badge">Demo</span>
          <div class="title-overlay">Vision</div>
        </div>
        <div class="card-body">
          <p>Optics/vision concept with crisp typography and clear value props.</p>
          <div class="actions">
            <a class="btn primary" href="https://www.doxservices.com/demo/vision/" target="_blank" rel="noopener">Open site</a>
            <button class="btn secondary act-preview">Preview</button>
          </div>
        </div>
      </article>
    </section>
  </main>

  <footer>
    <small>&copy; <span id="year"></span> Dox. All rights reserved.</small>
  </footer>

  <!-- Overlay Viewer -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="ov-panel" role="dialog" aria-modal="true" aria-labelledby="ov-title">
      <div class="ov-header">
        <div class="ov-title"><span id="ov-title">Preview</span></div>
        <div class="ov-ctr">
          <button class="ov-btn" id="btn-prev" aria-label="Previous (←)">◀ Prev</button>
          <button class="ov-btn" id="btn-next" aria-label="Next (→)">Next ▶</button>
          <a class="ov-btn" id="btn-open" href="#" target="_blank" rel="noopener">Open in new tab</a>
          <button class="ov-btn" id="btn-close" aria-label="Close (Esc)">✕</button>
        </div>
      </div>
      <div class="ov-body">
        <iframe id="ov-frame" class="ov-iframe" sandbox="allow-scripts allow-forms allow-same-origin allow-pointer-lock allow-top-navigation-by-user-activation" referrerpolicy="no-referrer"></iframe>
        <div id="ov-fallback" class="ov-fallback">Some sites block embedding. If the page doesn’t show, use “Open in new tab.”</div>
      </div>
    </div>
  </div>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Filtering
    const chips=[...document.querySelectorAll('.chip')];
    const cards=[...document.querySelectorAll('.card')];
    const setActive = b => chips.forEach(c=>c.setAttribute('aria-pressed', c===b?'true':'false'));
    const filter = tag => cards.forEach(el=>{
      const tags=(el.dataset.tags||'').split(/\s+/);
      el.style.display=(tag==='all'||tags.includes(tag))?'':'none';
    });
    chips.forEach(b=>b.addEventListener('click',()=>{ setActive(b); filter(b.dataset.filter); }));

    // Overlay preview with prev/next
    const overlay = document.getElementById('overlay');
    const frame   = document.getElementById('ov-frame');
    const titleEl = document.getElementById('ov-title');
    const openBtn = document.getElementById('btn-open');
    const prevBtn = document.getElementById('btn-prev');
    const nextBtn = document.getElementById('btn-next');
    const closeBtn= document.getElementById('btn-close');
    const fallback = document.getElementById('ov-fallback');

    const previewButtons = [...document.querySelectorAll('.act-preview')];
    const sequence = cards; // browse through all visible cards
    let currentIndex = -1, failTimer = null;

    function openOverlay(idx){
      currentIndex = idx;
      const card = sequence[currentIndex];
      const url  = card.dataset.url;
      const shot = card.dataset.shot;
      const title= card.dataset.title || card.querySelector('.title-overlay')?.textContent?.trim() || 'Preview';

      titleEl.textContent = title;
      openBtn.href = url;
      fallback.style.display = 'none';

      // Attempt to load the site; set a timeout to show fallback if blocked
      frame.src = url;
      clearTimeout(failTimer);
      failTimer = setTimeout(()=>{ fallback.style.display='block'; }, 3500);

      frame.onload = ()=>{ clearTimeout(failTimer); fallback.style.display='none'; };
      frame.onerror= ()=>{ clearTimeout(failTimer); fallback.style.display='block'; frame.src = shot; };

      overlay.style.display = 'block';
      overlay.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    }

    function closeOverlay(){
      overlay.style.display = 'none';
      overlay.setAttribute('aria-hidden','true');
      frame.src = 'about:blank';
      document.body.style.overflow = '';
    }

    function step(delta){
      let next = currentIndex;
      do { next = (next + delta + sequence.length) % sequence.length; } while(sequence[next].style.display==='none');
      openOverlay(next);
    }

    previewButtons.forEach((btn)=>{
      const card = btn.closest('.card');
      btn.addEventListener('click', ()=> openOverlay(sequence.indexOf(card)));
    });

    prevBtn.addEventListener('click', ()=> step(-1));
    nextBtn.addEventListener('click', ()=> step(1));
    closeBtn.addEventListener('click', closeOverlay);
    overlay.addEventListener('click', (e)=>{ if(e.target===overlay) closeOverlay(); });

    // Keyboard controls
    window.addEventListener('keydown', (e)=>{
      if(overlay.getAttribute('aria-hidden')==='true') return;
      if(e.key==='Escape') closeOverlay();
      if(e.key==='ArrowLeft') step(-1);
      if(e.key==='ArrowRight') step(1);
    });
  </script>
</body>
</html>
